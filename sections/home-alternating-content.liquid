<div
  data-section-id="{{ section.id }}"
  data-section-type="alternating-content">
  {% for block in section.blocks %}
    {% capture direction %}{% cycle 'right', 'left' %}{% endcapture %}

    {%- assign feature_image = block.settings.image -%}

    {% assign has_button = false %}
    {% if block.settings.button_link != blank and block.settings.button_text != blank %}
      {% assign has_button = true %}
    {% endif %}

    <div
      class="module-wrapper style-{{ block.settings.style }} border"
      {{ block.shopify_attributes }}>
      <div class="module home-left-right-features">
        <div class="module-body">

          <div class="home-left-right-feature clearfix">
            <div class="home-left-right-section home-left-right-media custom-home-media">
              {% if block.type == 'image' %}
                {% if feature_image != blank %}
                  <a class="home-img-redirect" href="{{ block.settings.button_link }}">
                  <img
                    class="home-left-right-image"
                    src="{{ feature_image | img_url: '1920x992'}}"
                    alt="{{ feature_image.alt | escape }}">
                </a>
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'placeholder-svg home-left-right-image' }}
                {% endif %}
              {% endif %}

              {% if block.type == 'video' %}
                {% if  block.settings.video_url != blank %}
                  <div
                    class="home-left-right-video {% if feature_image %}video-wrapper{% endif %}"
                    {% if feature_image %}
                      data-video-wrapper
                      style="background-image:url('{{ feature_image | img_url: '1020x700'}}');"
                    {% endif %}
                    >
                    {% if feature_image %}
                      <div class="video-wrapper-overlay" data-video-overlay>
                        <div class="video-wrapper-text-container">
                          <a class="video-wrapper-button" data-overlay-play>
                            <span class="video-wrapper-triangle"></span>
                          </a>
                        </div>
                      </div>
                    {% endif %}

                    <div class="full-width-video" data-video-wrapper>
                      {%- capture video_code %}
                        {% if block.settings.video_url.type == "youtube" %}
                          <iframe src="//www.youtube.com/embed/{{ block.settings.video_url.id }}?rel=0&showinfo=0&vq=720" width="850" height="480" frameborder="0" allowfullscreen></iframe>
                        {% endif %}
                        {% if block.settings.video_url.type == "vimeo" %}
                          <iframe src="//player.vimeo.com/video/{{ block.settings.video_url.id }}?byline=0&portrait=0&badge=0" width="850" height="480" frameborder="0" allowfullscreen></iframe>
                        {% endif %}
                      {%- endcapture %}
                      {% include 'video-embed', video: video_code %}
                    </div>
                  </div>
                {% else %}
                  <div class="home-left-right-video">
                    <div class="full-width-video" data-video-wrapper>
                      {%- capture video_code %}
                        <iframe
                          src="//www.youtube.com/embed/_9VUPq3SxOc?rel=0"
                          width="850"
                          height="480"
                          frameborder="0"></iframe>
                      {%- endcapture %}
                      {% include 'video-embed', video: video_code %}
                    </div>
                  </div>
                {% endif %}
              {% endif %}
            </div>
          </div>

        </div>
      </div>
    </div>
  {% endfor %}
    
    <div class="module-wrapper style-default border">
      <div class="module home-left-right-features">
        <div class="module-body">
          <div class="home-left-right-feature clearfix">
            <div class="home-left-right-section home-left-right-media custom-home-media">
                  <a class="home-img-redirect" href="//www.vinpok.com/products/vinpok-mix-3-in-1-charging-cable">
                  <img
                    class="home-left-right-image"
                    src="//cdn.shopify.com/s/files/1/2005/4429/files/MIX-Lightning_Micro-USB_USB-C_1920x992.png?16387749002728078638"
                    alt="USB Type C / Lightning / Micro 3 in 1 Charging Cable Vinpok Mix">
                </a>
            </div>
          </div>

        </div>
      </div>
    </div>
  
     <div class="module-wrapper style-default border">
      <div class="module home-left-right-features">
        <div class="module-body">
          <div class="home-left-right-feature clearfix">
            <div class="home-left-right-section home-left-right-media custom-home-media">
                  <a class="home-img-redirect" href="//www.vinpok.com/products/vinpok-beam-l">
                  <img class="home-left-right-image"
                    src="//cdn.shopify.com/s/files/1/2005/4429/files/beam-l-support_lightning_earpods_as_well_as_charging.png?18399996635962962867"
                    alt="support lightning earpods as well as charging">
                </a>
            </div>
          </div>

        </div>
      </div>
    </div> 
</div>
{% schema %}
{
  "name": "Alternating content",
  "max_blocks": 3,
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "settings": [
        {
          "type": "select",
          "id": "style",
          "label": "Background style",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "color",
              "label": "Color"
            },
            {
              "value": "gradient",
              "label": "Gradient"
            }
          ],
          "default": "default"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Alternating content"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Employ up to three alternating features with an option to use an image or video and include a call to action button.</p>"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button text"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Link"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image",
          "info": "1020 x 700px .png recommended"
        }
      ]
    },
    {
      "type": "video",
      "name": "Video",
      "settings": [
        {
          "type": "select",
          "id": "style",
          "label": "Background style",
          "options": [
            {
              "value": "default",
              "label": "Default"
            },
            {
              "value": "light",
              "label": "Light"
            },
            {
              "value": "color",
              "label": "Color"
            },
            {
              "value": "gradient",
              "label": "Gradient"
            }
          ],
          "default": "default"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Heading",
          "default": "Alternating content"
        },
        {
          "type": "richtext",
          "id": "text",
          "label": "Text",
          "default": "<p>Employ up to three alternating features with an option to use an image or video and include a call to action button.</p>"
        },
        {
          "type": "text",
          "id": "button_text",
          "label": "Button text"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Link"
        },
        {
          "type": "video_url",
          "id": "video_url",
          "label": "Youtube or Vimeo link",
          "accept": [
            "youtube",
            "vimeo"
          ]
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Video thumbnail",
          "info": "1020 x 700px .png recommended"
        }
      ]
    }
  ],
  "presets": [
    {
      "category": "Advanced content",
      "name": "Alternating content",
      "blocks": [
        {
          "type": "image",
          "settings": {
            "button_text": "This is your call to action",
            "button_link": "shopify:\/\/collections"
          }
        },
        {
          "type": "video",
          "settings": {
            "button_text": "This is your call to action",
            "button_link": "shopify:\/\/collections"
          }
        },
        {
          "type": "image",
          "settings": {
            "button_text": "This is your call to action",
            "button_link": "shopify:\/\/collections"
          }
        }
      ]
    }
  ]
}
{% endschema %}